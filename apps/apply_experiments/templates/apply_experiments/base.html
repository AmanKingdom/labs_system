<!--apply_experiments/base.html-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="icon" href="/static/image/default/logo.svg">

    <title>{% if title %}{{ title }}{% else %}实验室管理系统{% endif %}</title>

    <link href="/static/css_js/css/bootstrap.min.css" rel="stylesheet">

    <link href="/static/css_js/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="/static/css_js/css/style.css" rel="stylesheet">

    <!--bootstrap-table的依赖-->
    <link rel="stylesheet" href="/static/css_js/css/bootstrap-table.css">

    <!--editable的依赖-->
    <link href="/static/css_js/css/bootstrap-editable.css" rel="stylesheet">

    <style type="text/css">
        .need{
            color: #ff0000;
        }

        a.editable-empty,a.editable,a.editable-click{
            width: 90%;
            height: 25px;
            display: inline-block;
        }

        .editable-click,
        a.editable-click,
        a.editable-click:hover {
            text-decoration: none;
            border-bottom: dashed 0px #0088cc;
            white-space: nowrap;
            /*    重写去除下边框
            */
        }

        /* 设置input的样式
            bootstrap table padding为8px,加上左border为1px
            editable input 的样式中padding:6 24 6 2;border 1px;
        */
        .inputclass{
            width:100% !important;min-width:87px;
        {#height:30px;#}
            padding-left: 2px;
        }

        #body_div, #page-wrapper{
            height: auto;
        }
    </style>

    <!--子html文件用这个填充块添加css样式-->
    {% block add_css %}{% endblock %}
</head>

<body>
<div id="wrapper">
    <nav class="navbar-default navbar-static-side" role="navigation">
        <div class="sidebar-collapse">
            <ul class="nav metismenu" id="side-menu">
                <li class="nav-header">
                    <div class="dropdown profile-element text-center">
                        <span>
                            <img alt="image" class="img-circle" src="/static/image/default/dog.jpg" style="width: 80px"/>
                        </span>
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span class="clear">
                                <span class="block m-t-xs">
                                    <strong class="font-bold">
                                        {% if superuser %}
                                            {{ superuser.name }}
                                        {% endif %} &nbsp
                                        {% if teacher %}
                                            {{ teacher.name }}
                                        {% endif%}
                                    </strong>
                                </span>
                                <span class="text-muted text-xs block">
                                    {% if superuser %}
                                        超级管理员
                                    {% endif %} &nbsp
                                    {% if teacher %}
                                        教师
                                    {% endif %}
                                    <b class="caret"></b>
                                </span>
                            </span>
                        </a>
                        <ul class="dropdown-menu animated fadeInRight m-t-xs">
                            <li><a href="{% url 'browse:logout' %}">退出账号</a></li>
                        </ul>
                    </div>
                    <div class="logo-element">
                        <img alt="image" class="img-circle" src="/static/image/default/head.svg" style="width: 40px"/>
                    </div>
                </li>

                <!--个人信息页面是不论用户是超级管理员还是教师都会展示的-->
                <li {% if personal_homepage_active %}class="active"{% endif %}>
                    <a href="{% url 'apply_experiments:personal_homepage' %}">
                        <i class="fa fa-user-circle-o"></i><span class="nav-label">个人主页</span>
                    </a>
                </li>

                {% if teacher %}
                    <li class="active">
                        <a href="#"><i class="fa fa-edit"></i> <span class="nav-label">申请实验室</span><span class="fa arrow"></span></a>
                        <ul class="nav nav-second-level collapse">
                            <li {% if apply_experiments_active %}class="active"{% endif %}><a href="{% url 'apply_experiments:apply' %}">实验课申请</a></li>
                            <li {% if apply_info_active %}class="active"{% endif %}><a href="{% url 'apply_experiments:manage_application' %}">申请信息管理</a></li>
                        </ul>
                    </li>
                {% endif %}

                <!--超级管理员所使用的导航块-->
                {% if superuser %}
                    <li class="active">
                        <a href="#"><i class="fa fa-pie-chart"></i> <span class="nav-label">教学信息管理</span><span class="fa arrow"></span></a>
                        <ul class="nav nav-second-level collapse">
                            <li {% if school_active %}class="active"{% endif %}><a href="{% url 'super_manage:school_manage' %}">学校管理</a></li>
                            <li {% if classes_active %}class="active"{% endif %}><a href="{% url 'super_manage:classes_manage' %}">班级管理</a></li>
                            <li {% if teacher_active %}class="active"{% endif %}><a href="{% url 'super_manage:teacher_manage' %}">教师管理</a></li>
                            <li {% if course_active %}class="active"{% endif %}><a href="{% url 'super_manage:course_manage' %}">课程管理</a></li>
                        </ul>
                    </li>
                    <li class="active">
                        <a href="#"><i class="fa fa-pie-chart"></i> <span class="nav-label">实验室信息管理</span><span class="fa arrow"></span></a>
                        <ul class="nav nav-second-level collapse">
                            <li {% if lab_active %}class="active"{% endif %}><a href="{% url 'super_manage:lab_manage' %}">实验室管理</a></li>
                            <li {% if labs_attribute_active %}class="active"{% endif %}><a href="{% url 'super_manage:labs_attribute_manage' %}">实验室属性</a></li>
                        </ul>
                    </li>
                    <li class="active">
                        <a href="#"><i class="fa fa-pie-chart"></i> <span class="nav-label">实验课管理</span><span class="fa arrow"></span></a>
                        <ul class="nav nav-second-level collapse">
                            <li {% if experiment_type_active %}class="active"{% endif %}><a href="{% url 'super_manage:experiment_type_manage' %}">实验类型管理</a></li>
                            <li {% if school_active %}class="active"{% endif %}><a href="{% url 'apply_experiments:weeks_analyze' %}">实验课管理</a></li>
                            <li {% if classes_active %}class="active"{% endif %}><a href="{% url 'apply_experiments:rooms_analyze' %}">智能排课</a></li>
                            <li {% if teachers_active %}class="active"{% endif %}><a href="{% url 'apply_experiments:rooms_analyze' %}">发布公告</a></li>
                        </ul>
                    </li>
                {% endif %}

                <!--统计分析页面是不论用户是超级管理员还是教师都会展示的，但应该放在最后-->
                <li class="active">
                    <a href="#"><i class="fa fa-pie-chart"></i> <span class="nav-label">统计分析</span><span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level collapse">
                        <li {% if weeks_analyze_active %}class="active"{% endif %}><a href="{% url 'apply_experiments:weeks_analyze' %}">周次安排表</a></li>
                        <li {% if rooms_analyze_active %}class="active"{% endif %}><a href="{% url 'apply_experiments:rooms_analyze' %}">实验室安排表</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>

    <div id="page-wrapper" class="gray-bg dashbard-1">
        <div class="row border-bottom">
            <nav class="navbar navbar-static-top" role="navigation" style="margin-bottom: 0">
                <div class="navbar-header">
                    <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>
                </div>
                {#                <ol class="nav navbar-top-links navbar-left breadcrumb">#}
                {#                    <li>#}
                {#                        <a href="/">主页</a>#}
                {#                    </li>#}
                {#                    <li>#}
                {#                        {{ title }}#}
                {#                    </li>#}
                {#                </ol>#}
                <ul class="nav navbar-top-links navbar-right">
                    <li class="dropdown">
                        <a class="dropdown-toggle count-info" data-toggle="dropdown" href="#">
                            <i class="fa fa-envelope"></i>  <span class="label label-warning">16</span>
                        </a>
                        <ul class="dropdown-menu dropdown-messages">
                            <li>
                                <div class="dropdown-messages-box">
                                    <div class="media-body">
                                        <a href="#">
                                            <small class="pull-right text-navy">1小时前</small>
                                            <strong>嵌入式系统设计实验</strong> 通过了 . <br>
                                            <small class="text-muted">2019.05.21 16:58</small>
                                        </a>
                                    </div>
                                </div>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <div class="dropdown-messages-box">
                                    <div class="media-body">
                                        <a href="#">
                                            <small class="pull-right">6小时前</small>
                                            <strong>嵌入式系统设计实验</strong> 通过了 . <br>
                                            <small class="text-muted">2019.05.21 16:58</small>
                                        </a>
                                    </div>
                                </div>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <div class="dropdown-messages-box">
                                    <div class="media-body">
                                        <a href="#">
                                            <small class="pull-right">8小时前</small>
                                            <strong>嵌入式系统设计实验</strong> 通过了 . <br>
                                            <small class="text-muted">2019.05.21 16:58</small>
                                        </a>
                                    </div>
                                </div>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <div class="text-center link-block">
                                    <a href="#">
                                        <i class="fa fa-envelope"></i> <strong>阅读所有消息</strong>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="{% url 'browse:logout' %}">
                            <i class="fa fa-sign-out"></i> 退出账户
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
        <div class="row border-bottom white-bg dashboard-header" id="body_div">
            {% block body_block %}{% endblock %}
        </div>
    </div>
</div>

<!-- Mainly scripts -->
<script src="/static/css_js/js/jquery-3.1.1.min.js"></script>
<script src="/static/css_js/js/bootstrap.min.js"></script>
<script src="/static/css_js/js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="/static/css_js/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

<!-- Custom and plugin javascript 和左侧主导航栏有关 -->
<script src="/static/css_js/js/inspinia.js"></script>
<script src="/static/css_js/js/plugins/pace/pace.min.js"></script>

<!-- jQuery UI -->
<script src="/static/css_js/js/plugins/jquery-ui/jquery-ui.min.js"></script>

<!-- add bootstrap table的js依赖-->
<script type="text/javascript" src="/static/css_js/js/bootstrap-table.js"></script>
<!-- add bootstrap table的中文js依赖-->
<script type="text/javascript" src="/static/css_js/js/bootstrap-table-zh-CN.js"></script>
<script type="text/javascript" src="/static/css_js/js/bootstrap-table-export.js"></script>

<!-- editable 依赖 -->
<script src="/static/css_js/js/bootstrap-editable.js"></script>
<!-- editable和table 结合的依赖 -->
<script src="/static/css_js/js/bootstrap-table-editable.js"></script>

<script>
    window.onload = function(){
        var h=document.documentElement.clientHeight-40;//可见区域高度
        ss=document.getElementById("base_div");
        ss.style.height=h+"px";
    }
</script>

<!--全局的bootstrap table 和 X-editable 配置 开始-->
    <script>
        var global_current_special_requirements_row = null;  // 临时存放当前行的特殊需求数据

        var empty_text = '       ';    // 全局性的空文本
        var not_found_data = '暂无数据';    // 全局性的找不到数据提示文本

        $.fn.editable.defaults.mode = 'inline';//设置行内编辑模式
        $.fn.editable.defaults.showbuttons = false;//设置所有的元素不显示按钮
        $.fn.editable.defaults.emptytext = empty_text;//设置默认的空文本
        $.fn.editable.defaults.onblur= "submit"; //表示鼠标离开输入框即进行提交保存操作
        $.fn.editable.defaults.autotext = "always";
        $.fn.editable.defaults.inputclass="inputclass";
        //上面这句很重要，作用为是否显示select的文本。当select中source中的value和text均为文本时，需要声明，不然select框会直接显示值

        $.fn.bootstrapTable.columnDefaults.valign = 'middle';//垂直居中
        $.fn.bootstrapTable.columnDefaults.align = 'center';//水平居中
        {#$.fn.bootstrapTable.columnDefaults.class='not-wrap';#}
        $.fn.bootstrapTable.columnDefaults.undefinedText = empty_text;//当表格项没有数据时显示的内容
        $.fn.bootstrapTable.defaults.striped = true;
    </script>
    <!--全局的bootstrap table 和 X-editable 配置 结束-->

<!--子html文件用这个填充块添加js样式-->
{% block add_js %}{% endblock %}
</body>

</html>